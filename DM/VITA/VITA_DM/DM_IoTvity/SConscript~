import os
env = Environment()
env.Append(IOTVITY_DIR ='./iotivity-1.2.1')

iotvity_dir = env.get('IOTVITY_DIR')

env.AppendUnique(CXXFLAGS = ['-std=c++0x', '-Wall'])

env.SharedLibrary('DM_iotivity',['DM_IoTvity_api.c','IoTvity_Wrapper/DM_iotivity.cpp'], CPPPATH = [iotvity_dir + '/resource/include/',
		iotvity_dir + '/resource/csdk/stack/include',
		iotvity_dir + '/resource/c_common/ocrandom/include',
		iotvity_dir + '/resource/c_common/',
      	  	iotvity_dir + '/resource/csdk/logger/include',
        	iotvity_dir + '/resource/oc_logger/include',
        	iotvity_dir + '/resource/examples',
		'./',
		'./IoTvity_Wrapper/',
		iotvity_dir + '../Headers',
		iotvity_dir + '../DSM/Headers',
		],
        LIBS = ['coap', 'connectivity_abstraction' , 'oc_logger' , 'octbstack' , 'oc' , '-ljson-c', '-lpthread'],
        LIBPATH= [iotvity_dir + '/out/linux/x86_64/release'])
